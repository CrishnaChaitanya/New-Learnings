fields @logStream
| parse @logStream /^([a-zA-Z0-9_]+)\./ as company_name
| filter @logStream like /.*\.w-.*/ or @logStream not like /.*\.w-.*/
| stats 
    count(distinct if(@logStream like /.*\.w-.*/, company_name, null)) as FileUploadUsers, 
    count(distinct if(@logStream not like /.*\.w-.*/, company_name, null)) as InfraOnlyUsers
